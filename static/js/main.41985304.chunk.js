(this.webpackJsonporganaizer=this.webpackJsonporganaizer||[]).push([[0],{12:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),i=a.n(r),d=a(9),l=a(7),c=a(8),o=a(2),h=a(3),u=a(6),p=a(4),m=a(1),v=a(5),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={isShowAddField:!1,addTimeFrom:"",addTimeTo:"",addText:""},a.toggleShowAddField=a.toggleShowAddField.bind(Object(m.a)(a)),a.handleInputsAddField=a.handleInputsAddField.bind(Object(m.a)(a)),a.cleanState=a.cleanState.bind(Object(m.a)(a)),a.handleAddButton=a.handleAddButton.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"toggleShowAddField",value:function(){this.setState({isShowAddField:!this.state.isShowAddField})}},{key:"handleInputsAddField",value:function(e,t){this._emptyTextError.classList.remove("show"),this.setState(Object(l.a)({},e,t.target.value))}},{key:"handleAddButton",value:function(){""!==this.state.addText?(this.props.addTask(this.props.selectedDate,this.state),this.toggleShowAddField(),this.cleanState()):this._emptyTextError.classList.add("show")}},{key:"cleanState",value:function(){this.setState({isShowAddField:!this.state.isShowAddField,addTimeFrom:"",addTimeTo:"",addText:""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"addTask"},s.a.createElement("div",{id:"showTaskField"},s.a.createElement("button",{onClick:this.toggleShowAddField},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 ",s.a.createElement("span",null,"+"))),s.a.createElement("div",{id:"addTaskField",style:{maxHeight:this.state.isShowAddField?"200px":"0"}},s.a.createElement("div",{id:"taskTime"},"\u0412\u0440\u0435\u043c\u044f: c ",s.a.createElement("input",{type:"text",value:this.state.addTimeFrom,onChange:this.handleInputsAddField.bind(null,"addTimeFrom")}),"\u0434\u043e ",s.a.createElement("input",{type:"text",value:this.state.addTimeTo,onChange:this.handleInputsAddField.bind(null,"addTimeTo")})),s.a.createElement("div",{id:"taskText"},"\u0417\u0430\u0434\u0430\u0447\u0430: ",s.a.createElement("input",{type:"text",value:this.state.addText,onChange:this.handleInputsAddField.bind(null,"addText")})),s.a.createElement("div",{id:"errorEmptyText",className:"hidden"},s.a.createElement("p",{ref:function(t){return e._emptyTextError=t}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")),s.a.createElement("div",{id:"taskControlButton"},s.a.createElement("button",{onClick:this.handleAddButton},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),s.a.createElement("button",{onClick:this.cleanState},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.timeFrom,n=e.timeTo;return s.a.createElement("li",{className:"taskTablet"},s.a.createElement("div",{className:"taskData"},a?s.a.createElement("p",{className:"taskTime"},"".concat(a,"-").concat(n)):"",s.a.createElement("p",{className:"taskText"},t)),s.a.createElement("div",{className:"taskDelete",onClick:this.props.removeTask.bind(null,this.props.selectedDate,this.props.idx)},"\u0445"))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).getDate=a.getDate.bind(Object(m.a)(a)),a.getTaskTablets=a.getTaskTablets.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getDate",value:function(){var e=this.props.selectedDate,t=e.year,a=e.month,n=e.day;return"".concat(n,".").concat(a>9?a+1:"0"+(a+1),".").concat(t)}},{key:"getTaskTablets",value:function(){var e=this,t=this.props.tasks,a=this.props.selectedDate,n=a.year,r=a.month,i=a.day;return t[n]&&t[n][r]&&t[n][r][i]?t[n][r][i].map((function(t,a){var n=t.text,r=t.timeFrom,i=t.timeTo;return s.a.createElement(y,{key:a,idx:a,text:n,timeFrom:r,timeTo:i,removeTask:e.props.removeTask,selectedDate:e.props.selectedDate})})):s.a.createElement("li",{className:"taskTablet"},s.a.createElement("div",{className:"taskData"},s.a.createElement("p",{className:"taskText"},"\u041d\u0430 ",s.a.createElement("span",null,this.getDate())," \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447")))}},{key:"render",value:function(){return s.a.createElement("section",{id:"tasks"},s.a.createElement("div",{id:"hiddenTasks"},s.a.createElement("div",{id:"taskHeader"},s.a.createElement("p",null,"\u0417\u0430\u0434\u0430\u0447\u0438"),s.a.createElement("p",null,this.getDate())),s.a.createElement(k,{selectedDate:this.props.selectedDate,addTask:this.props.addTask}),s.a.createElement("ul",{id:"taskTablets"},this.getTaskTablets())))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).nameOfMounth=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"mounthSwithcer"},s.a.createElement("div",{className:"switcher",onClick:this.props.handlePrevUpdate},s.a.createElement("span",null,"<"),"\u2002",this.nameOfMounth[this.props.prevMonth],"\u2002",0===this.props.selectedMonth?this.props.selectedYear-1:""),s.a.createElement("div",{id:"selectedDate"},s.a.createElement("div",null,this.nameOfMounth[this.props.selectedMonth]),s.a.createElement("div",null,this.props.selectedYear)),s.a.createElement("div",{className:"switcher",onClick:this.props.handleNextUpdate},11===this.props.selectedMonth?this.props.selectedYear+1:"","\u2002",this.nameOfMounth[this.props.nextMonth],"\u2002",s.a.createElement("span",null,">")))}}]),t}(n.Component),g=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).nameDaysOfWeek=["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"getDaysTablets",value:function(){var e=this;return this.props.daysArr.map((function(t,a){var n=t.day,r=t.dayOfWeek,i=t.isActive,d=t.isSelectedDate,l=t.numberOfTasks;return s.a.createElement("div",{key:a,className:i?d?"selectedDate":"active":"notActive",onClick:i?e.props.setNewSelectedDate.bind(null,e.props.selectedYear,e.props.selectedMonth,n):function(e){return e.preventDefault()}},s.a.createElement("p",null,e.nameDaysOfWeek[r]),s.a.createElement("p",null,n),s.a.createElement("p",null,l?"\u0417\u0430\u0434\u0430\u0447: ".concat(l):""))}))}},{key:"render",value:function(){return s.a.createElement("div",{id:"mounthDays"},this.getDaysTablets())}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{id:"calendar"},s.a.createElement("div",{id:"hiddenCalendar"},s.a.createElement(f,{selectedYear:this.props.selectedYear,selectedMonth:this.props.selectedMonth,prevMonth:this.props.prevMonth,nextMonth:this.props.nextMonth,handleNextUpdate:this.props.handleNextUpdate,handlePrevUpdate:this.props.handlePrevUpdate}),s.a.createElement(g,{daysArr:this.props.daysArr,selectedYear:this.props.selectedYear,selectedMonth:this.props.selectedMonth,setNewSelectedDate:this.props.setNewSelectedDate})))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).date=new Date,e.currentYear=e.date.getFullYear(),e.currentMonth=e.date.getMonth(),e.currentDay=e.date.getDate(),e.currentDayOfWeek=e.date.getDay(),e.state={selectedYear:e.currentYear,selectedMonth:e.currentMonth,prevMonth:e.getPrevMonth(e.currentMonth),nextMonth:e.getNextMonth(e.currentMonth),selectedDate:{year:e.currentYear,month:e.currentMonth,day:e.currentDay},tasks:null===localStorage.getItem("tasks")?{}:JSON.parse(localStorage.getItem("tasks"))},e.handleNextUpdate=e.handleNextUpdate.bind(Object(m.a)(e)),e.handlePrevUpdate=e.handlePrevUpdate.bind(Object(m.a)(e)),e.updateDateNext=e.updateDateNext.bind(Object(m.a)(e)),e.updateDatePrev=e.updateDatePrev.bind(Object(m.a)(e)),e.isSelectedDate=e.isSelectedDate.bind(Object(m.a)(e)),e.setNewSelectedDate=e.setNewSelectedDate.bind(Object(m.a)(e)),e.addTask=e.addTask.bind(Object(m.a)(e)),e.removeTask=e.removeTask.bind(Object(m.a)(e)),window.addEventListener("unload",(function(){localStorage.setItem("tasks",JSON.stringify(e.state.tasks))})),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleNextUpdate",value:function(){var e=this,t=document.querySelector("#hiddenCalendar");t.style.opacity=0,setTimeout((function(){e.updateDateNext(),setTimeout((function(){t.style.opacity=1}),300)}),300)}},{key:"handlePrevUpdate",value:function(){var e=this,t=document.querySelector("#hiddenCalendar");t.style.opacity=0,setTimeout((function(){e.updateDatePrev(),setTimeout((function(){t.style.opacity=1}),300)}),300)}},{key:"updateDateNext",value:function(){var e=this.getNextYear(this.state.selectedYear,this.state.selectedMonth),t=this.getNextMonth(this.state.selectedMonth);this.setState({selectedYear:e,selectedMonth:t,prevMonth:this.getPrevMonth(t),nextMonth:this.getNextMonth(t),daysArr:this.getDaysArr(e,t)})}},{key:"updateDatePrev",value:function(){var e=this.getPrevYear(this.state.selectedYear,this.state.selectedMonth),t=this.getPrevMonth(this.state.selectedMonth);this.setState({selectedYear:e,selectedMonth:t,prevMonth:this.getPrevMonth(t),nextMonth:this.getNextMonth(t),daysArr:this.getDaysArr(e,t)})}},{key:"getPrevYear",value:function(e,t){return 0===t?e-1:e}},{key:"getNextYear",value:function(e,t){return 11===t?e+1:e}},{key:"getPrevMonth",value:function(e){return 0===e?11:e-1}},{key:"getNextMonth",value:function(e){return 11===e?0:e+1}},{key:"getDaysArr",value:function(e,t){var a=this.getNumOfDays(e,t);return[].concat(Object(c.a)(this.getDatePrevMonth(e,t)),Object(c.a)(this.getDateSelectedMonth(e,t,a)),Object(c.a)(this.getDateNextMonth(e,t,a)))}},{key:"getNumOfDays",value:function(e,t){return new Date(e,t+1,0).getDate()}},{key:"getDayOfWeek",value:function(e,t,a){return new Date(e,t,a).getDay()}},{key:"getDateSelectedMonth",value:function(e,t,a){for(var n=[],s=1;s<=a;s++)n.push({day:s,dayOfWeek:this.getDayOfWeek(e,t,s),isActive:!0,isSelectedDate:this.isSelectedDate(e,t,s),numberOfTasks:this.getNumberOfTasks(e,t,s)});return n}},{key:"getDatePrevMonth",value:function(e,t){for(var a=new Date(e,t,1).getDay(),n=new Date(e,t,0).getDate(),s=n-(0===a?7:a)+1,r=[],i=n;i>s;i--)r.push({day:i,dayOfWeek:this.getDayOfWeek(this.getPrevYear(e,t),this.getPrevMonth(t),i),isActive:!1,isSelectedDate:!1,numberOfTasks:this.getNumberOfTasks(this.getPrevYear(e,t),this.getPrevMonth(t),i)});return r.reverse()}},{key:"getDateNextMonth",value:function(e,t,a){for(var n=new Date(e,t,a).getDay(),s=0===n?0:7-n,r=[],i=1;i<=s;i++)r.push({day:i,dayOfWeek:this.getDayOfWeek(this.getNextYear(e,t),this.getNextMonth(t),i),isActive:!1,isSelectedDate:!1,numberOfTasks:this.getNumberOfTasks(this.getNextYear(e,t),this.getNextMonth(t),i)});return r}},{key:"isSelectedDate",value:function(e,t,a){var n=this.state.selectedDate,s=n.year,r=n.month,i=n.day;return e===s&&t===r&&a===i}},{key:"setNewSelectedDate",value:function(e,t,a){var n=this,s=document.querySelector("#hiddenTasks");s.style.opacity=0,setTimeout((function(){n.setState({selectedDate:{year:e,month:t,day:a}}),setTimeout((function(){s.style.opacity=1}),300)}),300)}},{key:"getNumberOfTasks",value:function(e,t,a){var n=this.state.tasks;return n[e]&&n[e][t]&&n[e][t][a]?n[e][t][a].length:null}},{key:"addTask",value:function(e,t){var a=e.year,n=e.month,s=e.day,r=t.addText,i=t.addTimeFrom,d=t.addTimeTo,l=JSON.parse(JSON.stringify(this.state.tasks)),c=this.returnDateExist(l,a,n,s),o={text:r,timeFrom:i,timeTo:d};c.push(o),c.sort(this.sortOnTimeFrom),this.setState({tasks:l})}},{key:"returnDateExist",value:function(e,t,a,n){return void 0===e[t]?e[t]=Object(l.a)({},a,Object(l.a)({},n,[])):void 0===e[t][a]?e[t][a]=Object(l.a)({},n,[]):void 0===e[t][a][n]&&(e[t][a][n]=[]),e[t][a][n]}},{key:"sortOnTimeFrom",value:function(e,t){var a=e.timeFrom.split(":"),n=Object(d.a)(a,2),s=n[0],r=n[1],i=t.timeFrom.split(":"),l=Object(d.a)(i,2),c=l[0],o=l[1];return+s===+c?r-o:s-c}},{key:"removeTask",value:function(e,t){var a=e.year,n=e.month,s=e.day,r=JSON.parse(JSON.stringify(this.state.tasks));r[a][n][s].splice(t,1),this.deleteEmptyTasks(r,a,n,s),this.setState({tasks:r})}},{key:"deleteEmptyTasks",value:function(e,t,a,n){0===e[t][a][n].length&&(delete e[t][a][n],0===Object.keys(e[t][a]).length&&(delete e[t][a],0===Object.keys(e[t]).length&&delete e[t]))}},{key:"render",value:function(){var e=this.state,t=e.selectedYear,a=e.selectedMonth,n=e.prevMonth,r=e.nextMonth,i=e.selectedDate,d=e.tasks,l=this.getDaysArr(t,a);return s.a.createElement("div",{id:"organaizer"},s.a.createElement(b,{selectedDate:i,tasks:d,addTask:this.addTask,removeTask:this.removeTask}),s.a.createElement(O,{selectedYear:t,selectedMonth:a,prevMonth:n,nextMonth:r,daysArr:l,handleNextUpdate:this.handleNextUpdate,handlePrevUpdate:this.handlePrevUpdate,setNewSelectedDate:this.setNewSelectedDate}))}}]),t}(n.Component);a(17);i.a.render(s.a.createElement(D,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.41985304.chunk.js.map